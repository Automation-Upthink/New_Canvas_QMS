package com.upthink.Canavas_QMS.service;import java.util.Optional;import com.upthink.Canavas_QMS.model.Person;import com.upthink.Canavas_QMS.model.PersonPrincipal;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.core.userdetails.UsernameNotFoundException;import org.springframework.stereotype.Service;@Servicepublic class CustomUserDetailsService implements UserDetailsService {    @Autowired    private PersonService personService;    public CustomUserDetailsService() {    }    public UserDetails loadUserByUsername(String cognitoId) throws UsernameNotFoundException {        Optional<Person> user = this.personService.findPersonById(cognitoId);        return user.isPresent() ? new PersonPrincipal((Person)user.get()) : null;    }}